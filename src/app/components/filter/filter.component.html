<div class="wp container-fluid mt-5">
    <h2>Búsqueda de amigos</h2>
    <form class="d-flex flex-column mt-4" role="search" #searchform="ngForm" (ngSubmit)="getAllUsers()">
        <div class="mb-2">
            <label for="searchInput" class="form-label">Buscar:</label>
        </div>
        <div class="d-flex">
            <input id="searchInput" class="form-control me-2" type="text" placeholder="Busca lo que se te ocurra"
                aria-label="Search" name="searchInput" [(ngModel)]="name" (ngModelChange)="filterUsers()">
            <button class="btn btn-outline-success" type="submit">Buscar</button>
        </div>
    </form>

    <!-- Resultados de búsqueda -->
    <div class="mt-5" *ngIf="filteredUsers.length > 0">
        <h4>Resultados de la búsqueda:</h4>
        <ul class="list-group mt-3">
            <li *ngFor="let user of filteredUsers"
                class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <h5>{{ user.name }}</h5>
                    <p>{{ user.email }}</p>
                </div>
                <!-- <button class="btn btn-primary" (click)="onButtonClick(user)">Añadir</button> -->
            </li>
        </ul>
    </div>

    <!-- Mensaje si no hay resultados -->
    <div class="mt-5" *ngIf="filteredUsers.length === 0 && searchform.submitted">
        <h3>No se encontraron resultados</h3>
    </div>

    <!-- Mensaje de respuesta -->
    <div class="mt-5" *ngIf="message">
        <h3>{{ message }}</h3>
    </div>
</div>